{
      "type": "TypeAPL",
      "prepullActions": [
        {"action":{"castSpell":{"spellId":{"otherId":"OtherActionPotion"}}},"doAtValue":{"const":{"val":"-1.6s"}}},
        {"action":{"castSpell":{"spellId":{"spellId":48181}}},"doAtValue":{"const":{"val":"-1.6s"}}}
      ],
      "priorityList": [
        {"action":{"autocastOtherCooldowns":{}}},
        {"action":{"condition":{"or":{"vals":[{"and":{"vals":[{"cmp":{"op":"OpLt","lhs":{"auraRemainingTime":{"auraId":{"spellId":126734}}},"rhs":{"const":{"val":"6s"}}}},{"auraIsActive":{"auraId":{"spellId":126734}}},{"not":{"val":{"auraIsKnown":{"auraId":{"spellId":138963}}}}}]}},{"auraIsActive":{"auraId":{"spellId":138963}}}]}},"castSpell":{"spellId":{"spellId":57933,"tag":-1}}}},
        {"action":{"condition":{"variableRef":{"name":"should-dark-soul"}},"castSpell":{"spellId":{"spellId":113860}}}},
        {"action":{"condition":{"or":{"vals":[{"cmp":{"op":"OpLe","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"63s"}}}},{"isExecutePhase":{"threshold":"E20"}},{"and":{"vals":[{"or":{"vals":[{"allTrinketStatProcsActive":{"statType1":3,"statType2":14,"statType3":6}},{"auraIsActive":{"auraId":{"itemId":76093}}}]}},{"isExecutePhase":{"threshold":"E25"}}]}}]}},"castSpell":{"spellId":{"spellId":18540}}}},
        {"action":{"condition":{"variableRef":{"name":"should-potion"}},"castSpell":{"spellId":{"itemId":76093}}}},
        {"action":{"condition":{"or":{"vals":[{"cmp":{"op":"OpLe","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"12s"}}}},{"and":{"vals":[{"auraIsActive":{"auraId":{"spellId":113860}}},{"or":{"vals":[{"not":{"val":{"variableRef":{"name":"can-proc-more"}}}},{"cmp":{"op":"OpLe","lhs":{"auraRemainingTime":{"auraId":{"spellId":113860}}},"rhs":{"const":{"val":"13s"}}}}]}}]}}]}},"castSpell":{"spellId":{"spellId":26297}}}},
        {"action":{"condition":{"or":{"vals":[{"and":{"vals":[{"cmp":{"op":"OpGe","lhs":{"spellTimeToCharge":{"spellId":{"spellId":113860}}},"rhs":{"const":{"val":"55s"}}}},{"not":{"val":{"auraIsActive":{"auraId":{"spellId":113860}}}}}]}},{"cmp":{"op":"OpLe","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"12s"}}}},{"and":{"vals":[{"auraIsActive":{"auraId":{"spellId":113860}}},{"or":{"vals":[{"not":{"val":{"variableRef":{"name":"can-proc-more"}}}},{"cmp":{"op":"OpLe","lhs":{"auraRemainingTime":{"auraId":{"spellId":113860}}},"rhs":{"const":{"val":"13s"}}}}]}}]}}]}},"castSpell":{"spellId":{"spellId":126734}}}},
        {"action":{"condition":{"or":{"vals":[{"cmp":{"op":"OpGe","lhs":{"spellTimeToCharge":{"spellId":{"spellId":113860}}},"rhs":{"const":{"val":"115s"}}}},{"cmp":{"op":"OpLe","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"22s"}}}},{"or":{"vals":[{"auraIsActive":{"auraId":{"spellId":113860}}},{"auraIsActive":{"auraId":{"itemId":76093}}}]}}]}},"castSpell":{"spellId":{"spellId":74497}}}},
        {"action":{"castSpell":{"spellId":{"spellId":111897}}}},
        {"action":{"condition":{"variableRef":{"name":"should-sbss"}},"strictSequence":{"actions":[{"castSpell":{"spellId":{"spellId":74434}}},{"castSpell":{"spellId":{"spellId":86121,"tag":2}}},{"cancelAura":{"auraId":{"spellId":86211}}}]}}},
        {"action":{"condition":{"and":{"vals":[{"or":{"vals":[{"variableRef":{"name":"should-sbss"}},{"variableRef":{"name":"should-not-haunt"}}]}},{"cmp":{"op":"OpEq","lhs":{"currentGenericResource":{}},"rhs":{"const":{"val":"0"}}}},{"cmp":{"op":"OpLt","lhs":{"math":{"op":"OpMul","lhs":{"const":{"val":"2"}},"rhs":{"dotTickFrequency":{"spellId":{"spellId":1120}}}}},"rhs":{"math":{"op":"OpSub","lhs":{"variableRef":{"name":"time-until-buffs-end"}},"rhs":{"channelClipDelay":{}}}}}},{"variableRef":{"name":"all-dots-active"}}]}},"channelSpell":{"spellId":{"spellId":1120},"interruptIf":{"and":{"vals":[{"gcdIsReady":{}},{"cmp":{"op":"OpGe","lhs":{"spellChanneledTicks":{"spellId":{"spellId":1120}}},"rhs":{"const":{"val":"2"}}}}]}}}}},
        {"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpLt","lhs":{"currentGenericResource":{}},"rhs":{"const":{"val":"3"}}}},{"cmp":{"op":"OpLt","lhs":{"math":{"op":"OpAdd","lhs":{"math":{"op":"OpMul","lhs":{"const":{"val":"2"}},"rhs":{"dotTickFrequency":{"spellId":{"spellId":1120}}}}},"rhs":{"channelClipDelay":{}}}},"rhs":{"variableRef":{"name":"dots-min-time"}}}},{"cmp":{"op":"OpLt","lhs":{"math":{"op":"OpAdd","lhs":{"math":{"op":"OpMul","lhs":{"const":{"val":"2"}},"rhs":{"dotTickFrequency":{"spellId":{"spellId":1120}}}}},"rhs":{"channelClipDelay":{}}}},"rhs":{"variableRef":{"name":"time-until-buffs-end"}}}},{"variableRef":{"name":"all-dots-active"}},{"not":{"val":{"variableRef":{"name":"should-swap"}}}},{"cmp":{"op":"OpLt","lhs":{"afflictionCurrentSnapshot":{"spellId":{"spellId":980}}},"rhs":{"const":{"val":"45%"}}}},{"cmp":{"op":"OpLt","lhs":{"dotPercentIncrease":{"spellId":{"spellId":86121,"tag":1}}},"rhs":{"const":{"val":"30%"}}}},{"not":{"val":{"isExecutePhase":{"threshold":"E25"}}}},{"cmp":{"op":"OpGt","lhs":{"currentManaPercent":{}},"rhs":{"const":{"val":"15%"}}}}]}},"channelSpell":{"spellId":{"spellId":1120},"interruptIf":{"and":{"vals":[{"gcdIsReady":{}},{"cmp":{"op":"OpGe","lhs":{"spellChanneledTicks":{"spellId":{"spellId":1120}}},"rhs":{"const":{"val":"2"}}}}]}},"allowRecast":true}}},
        {"action":{"condition":{"and":{"vals":[{"or":{"vals":[{"cmp":{"op":"OpLe","lhs":{"dotRemainingTime":{"spellId":{"spellId":980}}},"rhs":{"variableRef":{"name":"GCD-duration"}}}},{"not":{"val":{"dotIsActive":{"spellId":{"spellId":980}}}}}]}},{"auraIsInactive":{"auraId":{"spellId":86211}}}]}},"castSpell":{"spellId":{"spellId":980}}}},
        {"action":{"condition":{"or":{"vals":[{"and":{"vals":[{"auraIsInactive":{"auraId":{"spellId":86211}}},{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"cmp":{"op":"OpLt","lhs":{"dotRemainingTime":{"spellId":{"spellId":172}}},"rhs":{"const":{"val":"3s"}}}}]}},{"and":{"vals":[{"auraIsInactive":{"auraId":{"spellId":86211}}},{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"auraIsActive":{"auraId":{"spellId":113860},"includeReactionTime":true}},{"cmp":{"op":"OpLt","lhs":{"dotRemainingTime":{"spellId":{"spellId":172}}},"rhs":{"const":{"val":"6s"}}}}]}},{"and":{"vals":[{"auraIsInactive":{"auraId":{"spellId":86211},"includeReactionTime":true}},{"not":{"val":{"dotIsActive":{"spellId":{"spellId":172}}}}}]}}]}},"castSpell":{"spellId":{"spellId":172}}}},
        {"action":{"condition":{"and":{"vals":[{"or":{"vals":[{"not":{"val":{"dotIsActive":{"spellId":{"spellId":30108}}}}},{"cmp":{"op":"OpLe","lhs":{"dotRemainingTime":{"spellId":{"spellId":30108}}},"rhs":{"const":{"val":"3s"}}}},{"and":{"vals":[{"cmp":{"op":"OpLe","lhs":{"dotRemainingTime":{"spellId":{"spellId":980}}},"rhs":{"math":{"op":"OpMul","lhs":{"variableRef":{"name":"GCD-duration"}},"rhs":{"const":{"val":"2"}}}}}},{"cmp":{"op":"OpLe","lhs":{"dotRemainingTime":{"spellId":{"spellId":30108}}},"rhs":{"math":{"op":"OpMul","lhs":{"variableRef":{"name":"GCD-duration"}},"rhs":{"const":{"val":"2"}}}}}}]}},{"and":{"vals":[{"auraIsActive":{"auraId":{"spellId":113860},"includeReactionTime":true}},{"cmp":{"op":"OpLt","lhs":{"auraRemainingTime":{"auraId":{"spellId":126734}}},"rhs":{"const":{"val":"3s"}}}},{"cmp":{"op":"OpLt","lhs":{"dotRemainingTime":{"spellId":{"spellId":30108}}},"rhs":{"const":{"val":"11s"}}}},{"auraIsActive":{"auraId":{"spellId":126734},"includeReactionTime":true}}]}}]}},{"auraIsInactive":{"auraId":{"spellId":86211}}}]}},"castSpell":{"spellId":{"spellId":30108}}}},
        {"hide":true,"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpLt","lhs":{"dotRemainingTime":{"spellId":{"spellId":30108}}},"rhs":{"const":{"val":"3s"}}}},{"auraIsInactive":{"auraId":{"spellId":86211}}},{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}}]}},"castSpell":{"spellId":{"spellId":30108}}}},
        {"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpLt","lhs":{"auraRemainingTime":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":48181}}},"rhs":{"const":{"val":"1s"}}}},{"cmp":{"op":"OpEq","lhs":{"currentGenericResource":{}},"rhs":{"const":{"val":"0"}}}},{"not":{"val":{"spellInFlight":{"spellId":{"spellId":48181}}}}},{"not":{"val":{"variableRef":{"name":"should-swap"}}}}]}},"channelSpell":{"spellId":{"spellId":1120},"interruptIf":{"or":{"vals":[{"cmp":{"op":"OpGt","lhs":{"currentGenericResource":{}},"rhs":{"const":{"val":"1"}}}},{"cmp":{"op":"OpGe","lhs":{"spellChanneledTicks":{"spellId":{"spellId":1120}}},"rhs":{"const":{"val":"2"}}}}]}}}}},
        {"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpLt","lhs":{"auraRemainingTime":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":48181}}},"rhs":{"math":{"op":"OpAdd","lhs":{"spellCastTime":{"spellId":{"spellId":48181}}},"rhs":{"math":{"op":"OpAdd","lhs":{"spellTravelTime":{"spellId":{"spellId":48181}}},"rhs":{"const":{"val":"2s"}}}}}}}},{"not":{"val":{"spellInFlight":{"spellId":{"spellId":48181}}}}},{"or":{"vals":[{"not":{"val":{"variableRef":{"name":"should-swap"}}}},{"and":{"vals":[{"dotIsActiveOnAllTargets":{"spellId":{"spellId":980}}},{"cmp":{"op":"OpGt","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"spellGcdHastedDuration":{"spellId":{"spellId":48181}}}}}]}}]}},{"cmp":{"op":"OpGt","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"3s"}}}},{"not":{"val":{"variableRef":{"name":"should-not-haunt"}}}}]}},"castSpell":{"spellId":{"spellId":48181}}}},
        {"action":{"condition":{"and":{"vals":[{"or":{"vals":[{"not":{"val":{"variableRef":{"name":"should-swap"}}}},{"spellIsReady":{"spellId":{"spellId":26297}}}]}},{"not":{"val":{"isExecutePhase":{"threshold":"E20"}}}},{"not":{"val":{"auraIsActive":{"auraId":{"spellId":86211}}}}},{"anyTrinketStatProcsAvailable":{"statType1":7,"statType2":-1,"statType3":-1,"minIcdSeconds":50}},{"or":{"vals":[{"and":{"vals":[{"auraIsKnown":{"auraId":{"spellId":126659}}},{"auraIsInactive":{"auraId":{"spellId":126659},"includeReactionTime":true}}]}},{"and":{"vals":[{"auraIsKnown":{"auraId":{"spellId":138703}}},{"auraIsInactive":{"auraId":{"spellId":138703},"includeReactionTime":true}}]}}]}}]}},"channelSpell":{"spellId":{"spellId":103103},"interruptIf":{"gcdIsReady":{}},"allowRecast":true}}},
        {"action":{"condition":{"and":{"vals":[{"variableRef":{"name":"should-swap"}},{"or":{"vals":[{"and":{"vals":[{"or":{"vals":[{"auraIsInactive":{"auraId":{"spellId":126734}}},{"cmp":{"op":"OpGt","lhs":{"auraRemainingTime":{"auraId":{"spellId":126734}}},"rhs":{"math":{"op":"OpAdd","lhs":{"const":{"val":"2s"}},"rhs":{"spellGcdHastedDuration":{"spellId":{"spellId":86121,"tag":1}}}}}}}]}},{"auraIsKnown":{"auraId":{"spellId":126734}}}]}},{"not":{"val":{"auraIsKnown":{"auraId":{"spellId":126734}}}}},{"cmp":{"op":"OpLt","lhs":{"dotPercentIncrease":{"spellId":{"spellId":86121,"tag":1}}},"rhs":{"const":{"val":"0%"}}}}]}},{"not":{"val":{"and":{"vals":[{"spellIsReady":{"spellId":{"spellId":126734}}},{"auraIsActive":{"auraId":{"spellId":113860},"includeReactionTime":true}}]}}}}]}},"castSpell":{"spellId":{"spellId":86121,"tag":1}}}},
        {"action":{"condition":{"and":{"vals":[{"auraIsActive":{"auraId":{"spellId":86211},"includeReactionTime":true}},{"cmp":{"op":"OpGe","lhs":{"currentGenericResource":{}},"rhs":{"const":{"val":"1"}}}},{"or":{"vals":[{"and":{"vals":[{"auraIsKnown":{"auraId":{"spellId":26297}}},{"cmp":{"op":"OpLt","lhs":{"auraRemainingTime":{"auraId":{"spellId":26297}}},"rhs":{"const":{"val":"2s"}}}},{"auraIsActive":{"auraId":{"spellId":26297}}}]}},{"cmp":{"op":"OpLt","lhs":{"variableRef":{"name":"time-until-buffs-end"}},"rhs":{"const":{"val":"2s"}}}}]}}]}},"strictSequence":{"actions":[{"castSpell":{"spellId":{"spellId":86213},"target":{"type":"NextTarget"}}},{"warlockNextExhaleTarget":{}}]}}},
        {"action":{"condition":{"not":{"val":{"dotIsActiveOnAllTargets":{"spellId":{"spellId":980}}}}},"strictSequence":{"actions":[{"castSpell":{"spellId":{"spellId":86213},"target":{"type":"NextTarget"}}},{"warlockNextExhaleTarget":{}}]}}},
        {"action":{"condition":{"and":{"vals":[{"or":{"vals":[{"not":{"val":{"variableRef":{"name":"should-swap"}}}},{"cmp":{"op":"OpGt","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"spellGcdHastedDuration":{"spellId":{"spellId":1454}}}}}]}},{"cmp":{"op":"OpLe","lhs":{"currentManaPercent":{}},"rhs":{"const":{"val":"15%"}}}},{"cmp":{"op":"OpGe","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"10s"}}}}]}},"castSpell":{"spellId":{"spellId":1454}}}},
        {"hide":true,"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"or":{"vals":[{"and":{"vals":[{"cmp":{"op":"OpGt","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"spellGcdHastedDuration":{"spellId":{"spellId":1120}}}}},{"isExecutePhase":{"threshold":"E20"}}]}},{"not":{"val":{"variableRef":{"name":"should-swap"}}}}]}}]}},"channelSpell":{"spellId":{"spellId":1120},"interruptIf":{"gcdIsReady":{}}}}},
        {"hide":true,"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"or":{"vals":[{"cmp":{"op":"OpGt","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"variableRef":{"name":"GCD-duration"}}}},{"not":{"val":{"variableRef":{"name":"should-swap"}}}}]}}]}},"channelSpell":{"spellId":{"spellId":103103},"interruptIf":{"cmp":{"op":"OpGt","lhs":{"math":{"op":"OpAdd","lhs":{"dotTickFrequency":{"spellId":{"spellId":103103}}},"rhs":{"channelClipDelay":{}}}},"rhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}}}}}}},
        {"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"cmp":{"op":"OpLe","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"variableRef":{"name":"GCD-duration"}}}}]}},"wait":{"duration":{"math":{"op":"OpSub","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"afflictionExhaleWindow":{}}}}}}},
        {"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"cmp":{"op":"OpLe","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"afflictionExhaleWindow":{}}}}]}},"strictSequence":{"actions":[{"castSpell":{"spellId":{"spellId":86213},"target":{"type":"NextTarget"}}},{"warlockNextExhaleTarget":{}}]}}},
        {"hide":true,"action":{"condition":{"and":{"vals":[{"isExecutePhase":{"threshold":"E20"}},{"cmp":{"op":"OpEq","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"spellIsChanneling":{"spellId":{"spellId":1120}}},{"cmp":{"op":"OpLe","lhs":{"variableRef":{"name":"time-until-buffs-end"}},"rhs":{"dotTickFrequency":{"spellId":{"spellId":1120}}}}}]}},"channelSpell":{"spellId":{"spellId":1120},"interruptIf":{"or":{"vals":[{"gcdIsReady":{}}]}},"allowRecast":true}}},
        {"action":{"condition":{"and":{"vals":[{"isExecutePhase":{"threshold":"E20"}},{"or":{"vals":[{"cmp":{"op":"OpEq","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"not":{"val":{"variableRef":{"name":"should-swap"}}}},{"cmp":{"op":"OpGt","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"math":{"op":"OpAdd","lhs":{"dotTickFrequency":{"spellId":{"spellId":1120}}},"rhs":{"channelClipDelay":{}}}}}}]}}]}},"channelSpell":{"spellId":{"spellId":1120},"interruptIf":{"or":{"vals":[{"gcdIsReady":{}}]}}}}},
        {"hide":true,"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpGt","lhs":{"dotPercentIncrease":{"spellId":{"spellId":103103}}},"rhs":{"const":{"val":"35%"}}}},{"spellIsChanneling":{"spellId":{"spellId":103103}}}]}},"channelSpell":{"spellId":{"spellId":103103},"interruptIf":{"gcdIsReady":{}},"allowRecast":true}}},
        {"action":{"channelSpell":{"spellId":{"spellId":103103},"interruptIf":{"or":{"vals":[{"gcdIsReady":{}},{"and":{"vals":[{"cmp":{"op":"OpLt","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"math":{"op":"OpAdd","lhs":{"dotTickFrequency":{"spellId":{"spellId":103103}}},"rhs":{"channelClipDelay":{}}}}}},{"auraIsActive":{"auraId":{"spellId":86211},"includeReactionTime":true}}]}}]}}}}},
        {"action":{"castSpell":{"spellId":{"spellId":1454}}}}
      ],
      "valueVariables": [
        {"name":"all-dots-active","value":{"and":{"vals":[{"dotIsActive":{"spellId":{"spellId":980}}},{"dotIsActive":{"spellId":{"spellId":172}}},{"dotIsActive":{"spellId":{"spellId":30108}}}]}}},
        {"name":"no-dots-active","value":{"and":{"vals":[{"not":{"val":{"dotIsActive":{"spellId":{"spellId":980}}}}},{"not":{"val":{"dotIsActive":{"spellId":{"spellId":172}}}}},{"not":{"val":{"dotIsActive":{"spellId":{"spellId":30108}}}}}]}}},
        {"name":"should-potion","value":{"or":{"vals":[{"and":{"vals":[{"auraIsActive":{"auraId":{"spellId":113860}}},{"cmp":{"op":"OpLe","lhs":{"remainingTime":{}},"rhs":{"spellTimeToCharge":{"spellId":{"spellId":113860}}}}}]}},{"cmp":{"op":"OpLe","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"27s"}}}}]}}},
        {"name":"should-dark-soul","value":{"or":{"vals":[{"and":{"vals":[{"anyTrinketStatProcsActive":{"statType1":3,"statType2":7,"statType3":6,"minIcdSeconds":50}},{"cmp":{"op":"OpGt","lhs":{"currentTime":{}},"rhs":{"const":{"val":"40s"}}}},{"cmp":{"op":"OpGt","lhs":{"numEquippedStatProcTrinkets":{"statType1":3,"statType2":7,"statType3":6,"minIcdSeconds":50}},"rhs":{"const":{"val":"0"}}}}]}},{"cmp":{"op":"OpLe","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"23s"}}}},{"cmp":{"op":"OpEq","lhs":{"spellNumCharges":{"spellId":{"spellId":113860}}},"rhs":{"const":{"val":"2"}}}},{"and":{"vals":[{"or":{"vals":[{"variableRef":{"name":"should-sbss"}},{"cmp":{"op":"OpGt","lhs":{"dotPercentIncrease":{"spellId":{"spellId":86121,"tag":1}}},"rhs":{"const":{"val":"-25%"}}}}]}},{"auraIsKnown":{"auraId":{"spellId":138786}}},{"auraIsActive":{"auraId":{"spellId":138786},"includeReactionTime":true}}]}},{"and":{"vals":[{"or":{"vals":[{"variableRef":{"name":"should-sbss"}},{"cmp":{"op":"OpGt","lhs":{"dotPercentIncrease":{"spellId":{"spellId":86121,"tag":1}}},"rhs":{"const":{"val":"-25%"}}}}]}},{"auraIsKnown":{"auraId":{"spellId":138898}}},{"auraIsActive":{"auraId":{"spellId":138898},"includeReactionTime":true}}]}},{"and":{"vals":[{"or":{"vals":[{"variableRef":{"name":"should-sbss"}},{"cmp":{"op":"OpGt","lhs":{"dotPercentIncrease":{"spellId":{"spellId":86121,"tag":1}}},"rhs":{"const":{"val":"-25%"}}}}]}},{"auraIsKnown":{"auraId":{"spellId":139133}}},{"auraIsActive":{"auraId":{"spellId":139133},"includeReactionTime":true}}]}},{"and":{"vals":[{"or":{"vals":[{"variableRef":{"name":"should-sbss"}},{"cmp":{"op":"OpGt","lhs":{"dotPercentIncrease":{"spellId":{"spellId":86121,"tag":1}}},"rhs":{"const":{"val":"-25%"}}}}]}},{"auraIsKnown":{"auraId":{"spellId":137590}}},{"auraIsActive":{"auraId":{"spellId":137590},"includeReactionTime":true}}]}},{"and":{"vals":[{"auraIsKnown":{"auraId":{"spellId":138963}}},{"auraIsActive":{"auraId":{"spellId":138963},"includeReactionTime":true}},{"cmp":{"op":"OpGt","lhs":{"dotPercentIncrease":{"spellId":{"spellId":86121,"tag":1}}},"rhs":{"const":{"val":"-25%"}}}},{"or":{"vals":[{"cmp":{"op":"OpGt","lhs":{"currentGenericResource":{}},"rhs":{"const":{"val":"0s"}}}},{"cmp":{"op":"OpGt","lhs":{"auraRemainingTime":{"auraId":{"spellId":138963}}},"rhs":{"math":{"op":"OpAdd","lhs":{"math":{"op":"OpMul","lhs":{"const":{"val":"2"}},"rhs":{"dotTickFrequency":{"spellId":{"spellId":1120}}}}},"rhs":{"channelClipDelay":{}}}}}}]}}]}}]}}},
        {"name":"GCD-duration","value":{"spellGcdHastedDuration":{"spellId":{"spellId":1454}}}},
        {"name":"should-swap","value":{"and":{"vals":[{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"or":{"vals":[{"not":{"val":{"dotIsActiveOnAllTargets":{"spellId":{"spellId":980}}}}},{"cmp":{"op":"OpLt","lhs":{"dotRemainingTime":{"spellId":{"spellId":980}}},"rhs":{"remainingTime":{}}}}]}}]}}},
        {"name":"can-proc-more","value":{"anyTrinketStatProcsAvailable":{"statType1":7,"statType2":6,"statType3":3}}},
        {"name":"should-sbss","value":{"or":{"vals":[{"variableRef":{"name":"no-dots-active"}},{"cmp":{"op":"OpGe","lhs":{"dotPercentIncrease":{"spellId":{"spellId":86121,"tag":1}}},"rhs":{"const":{"val":"40%"}}}},{"and":{"vals":[{"cmp":{"op":"OpGe","lhs":{"dotPercentIncrease":{"spellId":{"spellId":86121,"tag":1}}},"rhs":{"const":{"val":"20%"}}}},{"not":{"val":{"variableRef":{"name":"can-proc-more"}}}},{"cmp":{"op":"OpGt","lhs":{"remainingTime":{}},"rhs":{"variableRef":{"name":"dots-min-time"}}}},{"or":{"vals":[{"auraIsInactive":{"auraId":{"spellId":138790}}},{"cmp":{"op":"OpEq","lhs":{"auraNumStacks":{"auraId":{"spellId":138786}}},"rhs":{"const":{"val":"10"}}}}]}}]}},{"and":{"vals":[{"cmp":{"op":"OpGe","lhs":{"dotPercentIncrease":{"spellId":{"spellId":86121,"tag":1}}},"rhs":{"const":{"val":"-2%"}}}},{"cmp":{"op":"OpLe","lhs":{"variableRef":{"name":"time-until-buffs-end"}},"rhs":{"variableRef":{"name":"GCD-duration"}}}},{"cmp":{"op":"OpGt","lhs":{"remainingTime":{}},"rhs":{"variableRef":{"name":"dots-min-time"}}}},{"or":{"vals":[{"cmp":{"op":"OpLt","lhs":{"dotRemainingTime":{"spellId":{"spellId":980}}},"rhs":{"const":{"val":"32s"}}}},{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}}]}}]}},{"and":{"vals":[{"cmp":{"op":"OpGe","lhs":{"dotPercentIncrease":{"spellId":{"spellId":86121,"tag":1}}},"rhs":{"const":{"val":"1%"}}}},{"cmp":{"op":"OpLe","lhs":{"variableRef":{"name":"time-until-buffs-end"}},"rhs":{"variableRef":{"name":"GCD-duration"}}}},{"cmp":{"op":"OpGt","lhs":{"remainingTime":{}},"rhs":{"variableRef":{"name":"dots-min-time"}}}}]}},{"and":{"vals":[{"cmp":{"op":"OpGe","lhs":{"dotPercentIncrease":{"spellId":{"spellId":980}}},"rhs":{"const":{"val":"-50%"}}}},{"anyTrinketStatProcsActive":{"statType1":3,"statType2":6,"statType3":7,"minIcdSeconds":50}},{"cmp":{"op":"OpGt","lhs":{"remainingTime":{}},"rhs":{"variableRef":{"name":"dots-min-time"}}}},{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"cmp":{"op":"OpLt","lhs":{"variableRef":{"name":"dots-min-time"}},"rhs":{"const":{"val":"6s"}}}}]}}]}}},
        {"name":"time-until-buffs-end","value":{"min":{"vals":[{"trinketProcsMinRemainingTime":{"statType1":3,"statType2":6,"statType3":7}},{"anyStatBuffCooldownsMinDuration":{"statType1":3,"statType2":7,"statType3":14}}]}}},
        {"name":"should-not-haunt","value":{"and":{"vals":[{"cmp":{"op":"OpGe","lhs":{"dotPercentIncrease":{"spellId":{"spellId":86121,"tag":1}}},"rhs":{"const":{"val":"-2%"}}}},{"cmp":{"op":"OpGt","lhs":{"math":{"op":"OpAdd","lhs":{"math":{"op":"OpAdd","lhs":{"math":{"op":"OpMul","lhs":{"const":{"val":"2"}},"rhs":{"dotTickFrequency":{"spellId":{"spellId":1120}}}}},"rhs":{"channelClipDelay":{}}}},"rhs":{"const":{"val":"2s"}}}},"rhs":{"variableRef":{"name":"time-until-buffs-end"}}}},{"cmp":{"op":"OpLe","lhs":{"currentGenericResource":{}},"rhs":{"const":{"val":"1"}}}}]}}},
        {"name":"dots-min-time","value":{"min":{"vals":[{"dotRemainingTime":{"spellId":{"spellId":980}}},{"dotRemainingTime":{"spellId":{"spellId":30108}}},{"dotRemainingTime":{"spellId":{"spellId":172}}}]}}}
      ]
}
